<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>

    <header>
      <nav>
        <div class="logo">
          <img src="images/logo.png" alt="">

        </div>

        <ul>
          <li>
            <a>Find 3rd Max</a>
          </li>
        </ul>
        <div class="vl"></div>
      </nav>
    </header>


    <div class="max">
      <div style="display:inline-block;vertical-align:top;">
        <h1>Quicksort + Find Third Largest</h1>
        <label for="input">Input numbers separated by commas:</label>
        <br>
        <input type="text" id="input">
        <button onclick="quicksort()">Sort</button>

        <div class="output">
          <div id="output"></div>
          <div id="third"></div>
        </div>
        <script>
          let counter = 1;

          function quicksort() {
            const input = document.getElementById("input").value;
            //using input.split(",") to split and create array "Number" with .map
            const arr = input.split(",").map(Number);
            //output is set and used in function printout(arr) to show multiple steps
            const output = document.getElementById("output");
            //using innerHTML to clear input
            output.innerHTML = "";
            //defining a counter c 

            //calling quick sort helper that needs (arr, left, right, counter)
            QShelper(arr, 0, arr.length - 1, 0);
            console.log(arr);
            ThirdL(arr);
            counter = 1;
          }

          //helper function b/c arr is not defined before quicksort function
          function QShelper(arr, left, right) {
            if (left < right) {
              //PI = pivot index (basically where we start the sort from)
              const PI = partition(arr, left, right);
              //calling function 

              printout(arr);

              QShelper(arr, left, PI - 1); //before pivot index
              QShelper(arr, PI + 1, right); //after pivot index
            }
          }

          //from geeks for geeks pseudo code
          //"function takes last element as pivot, places pviot element at its correct position in
          //array, and places all smaller to left of pivot and all greater elements to right of pivot

          function partition(arr, left, right) {
            const pivot = arr[right];
            //pi = pivot index
            let PI = left;

            for (let i = left; i < right; i++) {
              //going through array to move elements smaller than pivot
              if (arr[i] < pivot) {
                swap(arr, i, PI);
                PI++;
              }
            }

            swap(arr, right, PI);
            return PI;
          }

          function swap(arr, i, j) {
            const temp = arr[i];
            arr[i] = arr[j];
            arr[j] = temp;
          }

          function printout(arr) {
            const output = document.getElementById("output");
            const iteration = document.createElement("p");
            iteration.innerText = `Step ${counter}: ${arr.toString()}`;
            output.appendChild(iteration);
            counter++;
          }

          function ThirdL(arr) {

            const length = arr.length;
            if (length >= 3) {
              const Third = document.getElementById("Third");
              third.innerHTML = "Third largest is " + arr[length - 3];
            } else {
              third.innerHTML = "array needs to have atleast 3 elements";
            }
          }

        </script>
      </div>
    </div>
    <footer>
      Garrett Kostyk, Erik Nguyen, Jason Lee, Aaron Lee, Huy Nguyen
    </footer>
  </body>

</html>

<!--  
 -->
